<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sketch-js@1.1.3/js/sketch.min.js"></script>
  <style>
  html, body {
    overflow: hidden;
    text-align: center;
  }
  canvas {
    background: #1a1a3e;
    margin: 0;
    display: block;
    position: relative;
    left: 0;
    top:0;
    z-index: -1 !important;
  }
  .foreground {
    margin: 0;
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
  }
  .hero-body {
    margin-bottom: 20vh;
  }
  .has-text-white {
    color: #fffefd !important
  }
  .has-text-blue {
    color: #1a1a3e !important
  }

  .footbutton, a.coc{
    color: #1a1a3e !important;
    background: none;
    border: none;
  }
  .footbutton:hover, a.coc:hover{
    color: #7188a3 !important
  }

  .subscribe {
    border-radius: 10px;
    border-top-left-radius: 0px;
  }

  .is-blue {
    background-color: #7188a3;
    border: none;
  }

  .is-dark-blue {
    background-color: #1a1a3e;
    border: none;
  }

  .notification {
    margin: 0 auto;
    display: inline-block;
    overflow: hidden;
  }
</style>

</head>
<body>
  <div id="modal-subscribe" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head is-dark-blue">
        <p class="modal-card-title has-text-white">sunhacks updates</p>
      </header>
      <section class="modal-card-body is-blue">
        <form action="https://sendy.sunhacks.io/subscribe" method="POST" accept-charset="utf-8" id="sendy-subscribe">
        <div class="content">
            <div class="field ">
              <label for="name" class="label has-text-white">name</label>
              <div class="control">
                <input class="input" name="name" id="name" type="text" placeholder="e.g sunny">
              </div>
            </div>
            <div class="field">
              <label for="email" class="label has-text-white">email</label>
              <div class="control">
                <input class="input " name="email" id="email" type="email" placeholder="e.g. team@sunhacks.io">
              </div>
            </div>
            <input type="hidden" name="list" value="yiooYZNkTMLIzm763Z763NZilQ"/>
        </div>
      </form>
      </section>
      <footer class="modal-card-foot is-dark-blue">
        <button form="sendy-subscribe"type="submit" name="submit" id="submit" class="button is-blue has-text-white">submit</button>
        <button class="button" onclick="document.getElementById('modal-subscribe').classList.remove('is-active');">cancel</button>
      </footer>
    </div>
  </div>

  <section class="hero is-fullheight foreground">
    <div class="hero-head">
    <header class="navbar has-text-centered" style="justify-items:center;">
      <div class="notification" id="success-subscribe" style="visibility:hidden">
        <button class="delete"></button>
        Thanks for subscribing! We're looking forward to (virtually) seeing you soon!
      </div>
  </header>
</div>

    <!-- <div class="hero-head">
      <div class="container">
        <div class="notification" id="success-subscribe" style="display">
          <button class="delete"></button>
          Thanks for subscribing! We're looking forward to (virtually) seeing you soon!
        </div>
      </div>
    </div> -->
  	<div class="hero-body is-hidden-touch">
      <div class="columns is-vcentered" style="margin-left:15vw">
      	<div class="column is-3" align="center">
          <figure class="image">
            <img src="https://sunhacks.io/assets/logo-white.png">
          </figure>
      	</div>
         <div class="column is-5" align="left">
         	  <h1 class="title is-1 has-text-white">sunhacks</h1>
    	  	  <h2 class="subtitle is-3 has-text-white">October 9-11, 2020</h2>
    	  	  <h2 class="subtitle has-text-white">coming to a stream near you</h2>
            <a class="button subscribe has-text-blue" onclick="document.getElementById('modal-subscribe').classList.add('is-active');" name="subbutton">subscribe for updates</a>
        </div>
       </div>
      </div>
    </div>

    <div class="hero-body is-hidden-desktop">
      <div class="container has-text-centered">
        <figure class="image is-128x128 is-inline-block">
          <img src="https://sunhacks.io/assets/logo-white.png">
        </figure>
        <h1 class="title is-1 has-text-white">sunhacks</h1>
        <h2 class="subtitle is-3 has-text-white">October 9-11, 2020</h2>
        <h2 class="subtitle has-text-white">coming to a stream near you</h2>
        <a class="button subscribe has-text-blue" onclick="document.getElementById('modal-subscribe').classList.add('is-active');" name="subbutton">subscribe for updates</a>
      </div>
    </div>

    </div>
    <div class="hero-foot">
      <p class="buttons is-centered mb-0 are-large">
        <a href="https://www.facebook.com/sunhacksofficial/" class="button footbutton">
          <span class="icon is-large">
            <i class="fab fa-facebook"></i>
          </span>
        </a>
        <a href="https://twitter.com/sun_hacks" class="button footbutton">
          <span class="icon is-large">
            <i class="fab fa-twitter"></i>
          </span>
        </a>
        <a href="https://www.instagram.com/sunhacksofficial/" class="button footbutton asdfasdf">
          <span class="icon is-large">
            <i class="fab fa-instagram"></i>
          </span>
        </a>
        <a href="mailto:team@sunhacks.io" class="button footbutton asdfasdf">
          <span class="icon is-large">
            <i class="fas fa-paper-plane"></i>
          </span>
        </a>
        <div class="content has-text-centered footbutton mb-1">
            <a class="coc" href="http://static.mlh.io/docs/mlh-code-of-conduct.pdf"> MLH code of conduct </a>
        </div>
      </p>
    </div>

  </section>
  <a id="mlh-trust-badge" style="display:block;max-width:100px;min-width:60px;position:fixed;right:50px;top:0;width:10%;z-index:29" href="https://mlh.io/seasons/na-2020/events?utm_source=na-hackathon&utm_medium=TrustBadge&utm_campaign=2020-season&utm_content=white" target="_blank"><img src="https://s3.amazonaws.com/logged-assets/trust-badge/2020/mlh-trust-badge-2020-white.svg" alt="Major League Hacking 2020 Hackathon Season" style="width:100%"></a>

  <script>
  var COLORS = [ '#7188a3', '#d1697d','#e6cbca','#fffefd' ];

  (function() {
    var Mountain, MountainRange, dt, mountainRanges, sketch, baseHeigh;

    sketch = Sketch.create({
      height: window.innerHeight,
      width: window.innerWidth
    });

    mountainRanges = [];

    dt = 1;
    baseSpeed = 500;
    if(window.innerHeight > window.innerWidth) {
      baseHeight = 150;
    } else {
      baseHeight = 300;
    }

    // MOUNTAINS

    Mountain = function(config) {
      return this.reset(config);
    };

    Mountain.prototype.reset = function(config) {
      this.layer = config.layer;
      this.x = config.x;
      this.y = config.y;
      this.width = config.width;
      this.height = config.height;
      return this.color = config.color;
    };


    // MOUNTAIN RANGE

    MountainRange = function(config) {
      this.x = 0;
      this.mountains = [];
      this.layer = config.layer;
      this.width = {
        min: config.width.min,
        max: config.width.max
      };
      this.height = {
        min: config.height.min,
        max: config.height.max
      };
      this.speed = config.speed;
      this.color = config.color;
      this.populate();
      return this;
    };

    MountainRange.prototype.populate = function() {
      var newHeight, newWidth, results, totalWidth;
      totalWidth = 0;
      results = [];
      while (totalWidth <= sketch.width + (this.width.max * 4)) {
        newWidth = round(random(this.width.min, this.width.max));
        newHeight = round(random(this.height.min, this.height.max));
        this.mountains.push(new Mountain({
          layer: this.layer,
          x: this.mountains.length === 0 ? 0 : this.mountains[this.mountains.length - 1].x + this.mountains[this.mountains.length - 1].width,
          y: sketch.height - newHeight,
          width: newWidth,
          height: newHeight,
          color: this.color
        }));
        results.push(totalWidth += newWidth);
      }
      return results;
    };

    MountainRange.prototype.update = function() {
      var firstMountain, lastMountain, newHeight, newWidth;
      this.x -= (baseSpeed * this.speed) * dt;
      firstMountain = this.mountains[0];
      if (firstMountain.width + firstMountain.x + this.x < -this.width.max) {
        newWidth = round(random(this.width.min, this.width.max));
        newHeight = round(random(this.height.min, this.height.max));
        lastMountain = this.mountains[this.mountains.length - 1];
        firstMountain.reset({
          layer: this.layer,
          x: lastMountain.x + lastMountain.width,
          y: sketch.height - newHeight,
          width: newWidth,
          height: newHeight,
          color: this.color
        });
        return this.mountains.push(this.mountains.shift());
      }
    };

    MountainRange.prototype.render = function() {
      var c, d, i, j, pointCount, ref;
      sketch.save();
      sketch.translate(this.x, (sketch.height) / 100 * this.layer);
      sketch.beginPath();
      pointCount = this.mountains.length;
      sketch.moveTo(this.mountains[0].x, this.mountains[0].y);
      for (i = j = 0, ref = pointCount - 2; j <= ref; i = j += 1) {
        c = (this.mountains[i].x + this.mountains[i + 1].x) / 2;
        d = (this.mountains[i].y + this.mountains[i + 1].y) / 2;
        sketch.quadraticCurveTo(this.mountains[i].x, this.mountains[i].y, c, d);
      }
      sketch.lineTo(sketch.width - this.x, sketch.height);
      sketch.lineTo(0 - this.x, sketch.height);
      sketch.closePath();
      sketch.fillStyle = this.color;
      sketch.fill();
      return sketch.restore();
    };


    // SETUP

    sketch.setup = function() {
      var i, results;
      i = 4;
      results = [];
      while (i--) {
        results.push(mountainRanges.push(new MountainRange({
          layer: i + 1,
          width: {
            min: (i + 1) * 50,
            max: (i + 1) * 70
          },
          height: {
            min: baseHeight - (i * 40),
            max: baseHeight + 100 - (i * 40)
          },
          speed: (i + 1) * .003,
          color: COLORS[i]
        })));
      }
      return results;
    };


    // CLEAR

    sketch.clear = function() {
      return sketch.clearRect(0, 0, sketch.width, sketch.height);
    };


    // UPDATE

    sketch.update = function() {
      var i, results;
      dt = sketch.dt < .1 ? .1 : sketch.dt / 16;
      dt = dt > 5 ? 5 : dt;
      i = mountainRanges.length;
      results = [];
      while (i--) {
        results.push(mountainRanges[i].update(i));
      }
      return results;
    };


    // DRAW

    sketch.draw = function() {
      var i, results;
      i = mountainRanges.length;
      results = [];
      while (i--) {
        results.push(mountainRanges[i].render(i));
      }
      return results;
    };

  }).call(this);

  /**
   * Get the URL parameters
   * source: https://css-tricks.com/snippets/javascript/get-url-variables/
   * @param  {String} url The URL
   * @return {Object}     The URL parameters
   */
  var getParams = function (url) {
  	var params = {};
  	var parser = document.createElement('a');
  	parser.href = url;
  	var query = parser.search.substring(1);
  	var vars = query.split('&');
  	for (var i = 0; i < vars.length; i++) {
  		var pair = vars[i].split('=');
  		params[pair[0]] = decodeURIComponent(pair[1]);
  	}
  	return params;
  };
  window.onload = function() {
    const urlParams = new URLSearchParams(window.location.search);
    if(urlParams.has('subscribe')) {
      window.document.getElementById('success-subscribe').style.visibility = "visible";

    }
  };

  document.addEventListener('DOMContentLoaded', () => {
    (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
      $notification = $delete.parentNode;

      $delete.addEventListener('click', () => {
        $notification.style.visibility = "hidden";
      });
    });
  });
  </script>
</body>
</html>
